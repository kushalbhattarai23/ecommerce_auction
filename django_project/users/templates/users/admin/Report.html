<div class="row">
    <div class="col-xl-6 col-md-6 mb-2">
        <div id="container">
            <canvas id="pie-chart">

            </canvas>

        </div>

        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

        <script>

            new Chart(document.getElementById("pie-chart"), {
                type: 'pie',
                data: {
                    datasets: [{
                        data: {{ data|safe }},
                        backgroundColor: [
                            '#696969', '#808080', '#A9A9A9', '#C0C0C0', '#D3D3D3'
                        ],

                    }],
                    labels: {{ labels|safe }}
                },
                options: {
                    tooltips: {
            callbacks: {

                labelTextColor: function(tooltipItem, chart) {
                    return '#54044d';
                }
            }},

                    legend: {
                        position: 'left',
                    },
                    title: {
                        display: true,
                        color: '#D3D3D3',
                        text: "CATEGORIES OF AUCTION AND SHOP PRODUCTS"

                    },

                    responsive: true,

                }
            });


        </script>


    </div>
    <div class="col-xl-6 col-md-6 mb-2">

        <table id="myTable" class="table table-striped table-bordered table-sm col-xl-6 col-md-6 mb-2" cellspacing="0"
               width="100%">

            <thead>
            <tr class="header">
                <th class="th-sm">MOST VIEWED PRODUCTS
                </th>
                <th></th>
            <tr class="header">
                <th class="th-sm">Product
                </th>
                <th class="th-sm">View Count
                </th>

            </tr>
            </thead>
            <tbody>
            {% for each in viewed %}

                <tr>
                    <td>
                        {% for each2 in productsdesc %}
                            {% if each.product_id == each2.id %}
                                <a href="{% url 'product_detail' each2.id %} "><B>{{ each2.product_name }}</B></a>
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>{{ each.total }}</td>

                </tr>
            {% endfor %}
            </tbody>
        </table>


        <script>

            var config = {
                type: 'pie',
                data: {
                    datasets: [{
                        data: {{ data2|safe }},
                        backgroundColor: [
                            '#696969', '#808080', '#A9A9A9', '#C0C0C0', '#D3D3D3'
                        ],

                    }],
                    labels: {{ labels2|safe }}
                },
                options: {

                    tooltips: {
            callbacks: {

                labelTextColor: function(tooltipItem, chart) {
                    return '#54044d';
                }
            }},
                    legend: {
                        position: 'left',
                    },
                    title: {
                        display: true,
                        text: "CLASSIFICATION OF AUCTION AND SHOP PRODUCTS"

                    },

                    responsive: true,

                }
            };

            window.onload = function () {
                var ctx = document.getElementById('pie-chart2').getContext('2d');
                window.myPie = new Chart(ctx, config);
            };

        </script>


    </div>
</div>
<div class="row">
    <div class="col-xl-6 col-md-6 mb-2">

        <div id="container">
            <canvas id="pie-chart2">

            </canvas>
        </div>
    </div>
    <div class="col-xl-6 col-md-6 mb-2 ">

        <table id="myTable" class="table table-striped table-bordered table-sm col-xl-6 col-md-6 mb-2" cellspacing="0"
               width="100%">

            <thead>
            <tr class="header">
                <th class="th-sm">MOST Favourited PRODUCTS
                </th>

            </tr>
            <tr class="header">
                <th class="th-sm">Product
                </th>
                <th class="th-sm">Favourite Count
                </th>

            </tr>
            </thead>
            <tbody>
            {% for each in fav %}

                <tr>
                    <td>
                        {% for each2 in productsdesc %}
                            {% if each.product_id == each2.id %}
                                <a href="{% url 'product_detail' each2.id %} "><B>{{ each2.product_name }}</B></a>
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>{{ each.total }}</td>

                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
